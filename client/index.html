<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Wasatch Homegrown Map</title>

  <link href="https://api.mapbox.com/mapbox-gl-js/v2.9.0/mapbox-gl.css" rel="stylesheet" />
  <script type="module" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/7.1.0/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/7.1.0/ionicons/ionicons.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/src/styles.css" />
</head>
<body>
  <div id="app">
    <!-- Landing Section -->
    <div class="landing-section">
      <h1>Welcome to Wasatch Homegrown</h1>
      <p>Discover local growers and makers near you.</p>
      <button onclick="scrollToMap()">See the Map</button>
    </div>

    <!-- Map Section -->
    <div class="map-section" id="map-container">
      <div id="map"></div>
      <div class="icon-bar">
        <div class="icon-item">
          <input type="checkbox" id="beef" name="products" value="beef" checked />
          <label for="beef">🐄</label>
        </div>
        <div class="icon-item">
          <input type="checkbox" id="dairy" name="products" value="dairy" checked />
          <label for="dairy">🧀</label>
        </div>
        <div class="icon-item">
          <input type="checkbox" id="meat-chicken" name="products" value="meat chicken" checked />
          <label for="meat-chicken">🐓</label>
        </div>
        <div class="icon-item">
          <input type="checkbox" id="eggs" name="products" value="eggs" checked />
          <label for="eggs">🥚</label>
        </div>
        <div class="icon-item">
          <input type="checkbox" id="pork" name="products" value="pork" checked />
          <label for="pork">🐖</label>
        </div>
        <div class="icon-item">
          <input type="checkbox" id="produce" name="products" value="produce" checked />
          <label for="produce">🥦</label>
        </div>
        <div class="icon-item">
          <input type="checkbox" id="fruit" name="products" value="fruit" checked />
          <label for="fruit">🍎</label>
        </div>
        <div class="icon-item">
          <input type="checkbox" id="home-made" name="products" value="home made" checked />
          <label for="home-made">🧼</label>
        </div>
        <div class="icon-item">
          <input type="checkbox" id="baked-goods" name="products" value="baked goods" checked />
          <label for="baked-goods">🧁</label>
        </div>
        <div class="icon-item">
          <input type="checkbox" id="other" name="products" value="other" checked />
          <label for="other">🌼</label>
        </div>
      </div>
      

      <div id="details-panel"></div>
    </div>

    <!-- Add Farm Section -->
    <section id="add-farm-section" style="display: none;">
      <h2>Add Your Farm</h2>
      <form id="farmForm">
        <input type="text" name="name" placeholder="Farm Name" required />

        <div id="geocoder" class="geocoder"></div>
        <input type="hidden" id="address-coordinates" name="location" required />

        <textarea name="bio" placeholder="Farm Description"></textarea>

        <fieldset>
            <legend>What do you sell?</legend>
            <label><input type="checkbox" name="products" value="beef" /> 🐄 Beef</label>
            <label><input type="checkbox" name="products" value="dairy" /> 🧀 Dairy</label>
            <label><input type="checkbox" name="products" value="meat chicken" /> 🐓 Meat Chicken</label>
            <label><input type="checkbox" name="products" value="eggs" /> 🥚 Eggs</label>
            <label><input type="checkbox" name="products" value="pork" /> 🐖 Pork</label>
            <label><input type="checkbox" name="products" value="produce" /> 🥦 Produce</label>
            <label><input type="checkbox" name="products" value="fruit" /> 🍎 Fruit</label>
            <label><input type="checkbox" name="products" value="home made" /> 🧼 Home Made</label>
            <label><input type="checkbox" name="products" value="baked goods" /> 🧁 Baked Goods</label>
            <label><input type="checkbox" name="products" value="other" /> 🌼 Other</label>
          </fieldset>
          
        <input type="email" name="email" placeholder="Email" />
        <input type="text" name="phone" placeholder="Phone" />
        <input type="text" name="website" placeholder="Website (e.g., domain.com)" />

        <button type="submit">Submit</button>
      </form>
      <div id="formMessage"></div>
    </section>

    <!-- About Section -->
    <section id="about-section" style="display: none;">
      <div class="about-container">
        <img src="images/about/us.jpg" alt="Our Team" class="about-image" />
        <div class="about-bio">
          <h2>About Us</h2>
          <p>Moome was founded by a passionate couple dedicated to supporting local farms, homesteads, and makers...</p>
        </div>
      </div>
    </section>

    <!-- Admin Section -->
    <section id="admin-section" style="display: none;">
      <h2>Admin Dashboard</h2>
      <div id="admin-list">Loading...</div>
    </section>
  </div>

  <!-- Footer -->
  <div class="footer-content">
    <a href="#" data-route="home">Home</a>
    <a href="#" data-route="about">About Us</a>
    <a href="#" data-route="add-farm">Add Your Farm</a>
    <a href="#" data-route="admin">Admin</a>
    <button id="admin-login-button" style="display: none;">🔑 Admin Login</button>
    <span>Drop us a line: <a href="mailto:scotty@terestrial.com">scotty@terestrial.com</a></span>
  </div>

  <!-- Scripts -->
  <script src="https://api.mapbox.com/mapbox-gl-js/v2.9.0/mapbox-gl.js"></script>
  <script type="module" src="/src/main.js"></script>
  <script>
    function scrollToMap() {
      document.getElementById('map-container').scrollIntoView({ behavior: 'smooth' });
    }
  </script>
</body>
</html>
